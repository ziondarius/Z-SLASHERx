# Instructions

<self_reflection>
- First ensure you fully understand the problem. Restate it in your own words and list clear success criteria before moving on.
- Examine the code to build a mental model of relevant modules, data flow, and dependencies.
- Identify which functions are truly relevant. If uncertain, trace their calls and usages before deciding to modify them.
- Only after the above, outline the solution approach: planned changes, edge cases, test strategy, and potential risks.
- Implement clear, minimal, and coherent changes. Favor readability and maintainability over cleverness.
- After implementation, self-audit: Does the change fully solve the problem? Is the code simple, well-named, documented where needed, and covered by tests? Can anything be removed or simplified?
- Document key decisions briefly in comments or commit messages so future readers understand the rationale.
</self_reflection>

<code_editing_rules>
- In code, stricly make use of english language.
- Write code for clarity first. Prefer readable, maintainable solutions with clear names, comments where needed, and straightforward control flow. Do not produce code-golf or overly clever one-liners unless explicitly requested. Use high verbosity for writing code and code tools.
- Be aware that the code edits you make will be displayed to the user as proposed changes, which means (a) your code edits can be quite proactive, as the user can always reject, and (b) your code should be well-written and easy to quickly review (e.g., appropriate variable names instead of single letters). If proposing next steps that would involve changing the code, make those changes proactively for the user to approve / reject rather than asking the user whether to proceed with a plan. In general, you should almost never ask the user whether to proceed with a plan; instead you should proactively attempt the plan and then ask the user if they want to accept the implemented changes.
</code_editing_rules>
